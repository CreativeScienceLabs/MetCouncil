<!DOCTYPE html>
<html class="no-js" lang="en">

<head>
    <meta charset="utf-8">
    <title>Home | MMZ</title>
    <meta name="description" content="">
    <meta name="author" content="">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
    <meta name="format-detection" content="telephone=no">

    <!-- Le styles -->
    <link rel="stylesheet" href="dist/css/style.css?v=1.0.1" media="screen" />
    <script type="text/javascript" src="https://public.tableau.com/javascripts/api/tableau-2.min.js"></script>
    <style>
        .chartSwitch:focus {
            background: #60dc6d;
        }


        /*.tableauPlaceholder {
            display: none !important;
        }

        .tableauPlaceholder.show {
            display: block !important;
        }*/

        .link-li strong {
            display: block !important;
            padding-left: 25px;
            position: relative;
        }

        .link-li strong span {
            position: absolute;
            left: 0px;
        }

        .link-li strong a:hover {
            color: #e8434394;
        }

        @media screen and (max-width: 767px) {
            h2 {
                font-size: 30px;
            }
        }

        @media screen and (max-width: 767px) {
            div.piechart1 {
                max-width: 60%;
            }

            div.piechart2 {
                max-width: 40%;
            }
        }
    </style>
</head>

<body>
    <div class="main-outercon">

        <!-- Begin banner section -->
        <section class="banner-container">
            <div class="container">
                <div class="row">
                    <div class="col-8">
                        <div class="banner-logo">
                            <img src="assets/images/MetCouncil-logo-white.png" />
                        </div>
                        <h1>Getting Food to All Hungry New Yorkers</h1>
                        <div class="content-wrap">
                            <img src="dist/images/image1.svg" alt="">
                            <div>
                                <p>An Analysis of Kosher and Halal Meals Distributed Through GetFoodNYC</p>
                            </div>
                        </div>
                    </div>
                    <div class="col-4">
                        <div class="report-block">
                            <div class="top-content">
                            </div>
                            <div class="button-wrap">
                                <a
                                    href="./dist/pdf/MC_gettingfoodtoallnewyorkers.pdf"
                                    target="_blank"
                                    class="download-btn">Download the full Report
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        <!-- End banner section -->

        <!-- Begin content section -->
        <section class="content-container">
            <div class="container">
                <div class="row">
                    <div class="col-2">
                        <div class="fixed-sidebar">
                            <div class="sidebar-widget js-sticky-widget">
                                <h6>Jump to content</h6>
                                <ul id="nav">
                                    <li class="current"><a href="#block1">Overview</a></li>
                                    <li><a href="#block2">Findings & Analysis</a></li>
                                    <li><a href="#block3">Interactive Map</a></li>
                                    <li><a href="#block4">Discussion</a></li>
                                    <li><a href="#block5">Our Recommendations</a></li>
                                    <li><a href="#block6">Our Methodology</a></li>
                                </ul>
                            </div>
                        </div>
                    </div>
                    <div class="col-10">
                        <div class="content-block">
                            <div class="content-row" id="block1">
                                <div>
                                    <p> In March 2020, faced with an unprecedented surge in demand for emergency food
                                        due to
                                        the
                                        COVID-19 pandemic, New York City rapidly launched GetFoodNYC. This program
                                        delivered
                                        food to elderly, infirm, and other homebound New Yorkers who were most at risk
                                        of
                                        death
                                        and illness from COVID-19. Over time the program adapted to include culturally
                                        responsive food including kosher, halal, vegetarian, Latin, and pan-Asian
                                        options.
                                        All
                                        told from the programâ€™s inception through the end of September 2021, GetFoodNYC
                                        delivered
                                        <strong>128.7 million meals,</strong> of which nearly <strong>27 million were
                                            kosher
                                            or
                                            halal.</strong>
                                    </p>
                                </div>
                                <div class="content-inner">
                                    <div class="content-col">


                                        <p>The Mayors Office of Food Policy kept track of GetFoodNYC requests and shared
                                            the
                                            data
                                            publicly, allowing a first-time opportunity to examine city-wide demand for
                                            food
                                            by
                                            category (kosher, halal, vegetarian, Latin, pan-Asian, and non-specialty).
                                        </p>

                                        <p>As a certified enroller, leader in culturally responsive emergency food, and
                                            the
                                            largest
                                            kosher food network operator in the country, Met Council utilized this data
                                            to
                                            analyze
                                            kosher and halal meal distribution through GetFoodNYC. Below is a summary of
                                            our findings, an in-depth analysis is
                                            available in the <a href="./dist/pdf/MC_gettingfoodtoallnewyorkers.pdf" target="_blank"><strong>full report</strong></a>.
                                        </p>
                                    </div>
                                    <div class="content-col center-col">
                                        <div class="chart-block-wrapper">
                                            <img src="dist/images/kosher-halal.svg" alt="icon">
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="content-row" id="block2">
                                <h2>Findings & Analysis</h2>
                                <div class="content-inner">
                                    <div class="content-col start-col">
                                        <p> From March 2020 through September 2021, GetFoodNYC delivered
                                            <strong>128,680,553</strong> meals
                                            of which <strong>17,643,510</strong> were kosher and
                                            <strong>9,226,680</strong>
                                            were halal. Our analysis shows
                                            that kosher and halal food made up about <strong>21 percent</strong> of all
                                            food
                                            delivered
                                            through the program. Kosher and halal meals made up <strong>13.71</strong>
                                            percent and <strong>7.17
                                                percent</strong> respectively, of all deliveries. Combined, one in five
                                            deliveries made
                                            through the program were either kosher or halal food.
                                        </p>
                                    </div>
                                    <div class="content-col center-col">
                                        <!-- <img src="dist/images/graph1.png" alt=""> -->
                                        <div class="chart-block-wrapper">
                                            <div class="chart-legend">
                                                GetFoodNYC Total Meals March 2020 - September 2021
                                            </div>
                                            <div class="chart-block">
                                                <div class="piechart1">
                                                    <canvas id="pieChart1" width="400" height="400"></canvas>
                                                </div>
                                                <div class="piechart2">
                                                    <canvas id="pieChart2" width="400" height="400"></canvas>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="content-inner">
                                    <div class="content-col center-col">
                                        <div class="chart-block-wrapper">
                                            <div class="chart-legend">
                                                GetFoodNYC 2020 Meals by Month
                                            </div>
                                            <canvas id="bar-line" width="400" height="300"></canvas>
                                        </div>
                                    </div>
                                    <div class="content-col center-col">
                                        <p>Looking at the early months of the pandemic, from March 2020 through December
                                            2020, June was the month with the highest demand for GetFoodNYC meals.
                                            Kosher
                                            and halal meals made up <strong>23 percent</strong> of the meals distributed
                                            that month. While
                                            the total number of meals distributed starts to decline after June 2020, the
                                            demand for kosher and halal meals does not. It holds steady and even rises
                                            slightly through September 2020.</p>
                                    </div>
                                </div>
                                <div class="content-inner">
                                    <div class="content-col center-col">
                                        <p>In this chart we separate out kosher percentages and halal percentages to see
                                            if
                                            there is a difference in how they trend. <strong>We can clearly see that
                                                both
                                                kosher and
                                                halal trend at similar rates.</strong> In August 2020 and September of
                                            2020,
                                            kosher
                                            continues to grow while halal begins a slight decline. In October 2020 and
                                            November 2020 both then show small declines before halal rises a bit in
                                            December
                                            2020.</p>
                                    </div>
                                    <div class="content-col center-col">
                                        <div class="chart-block-wrapper">
                                            <div class="chart-legend">
                                                Kosher and Halal Percent of Total GetFoodNYC 2020 Meals
                                            </div>
                                            <canvas id="area-chart" width="400" height="300"></canvas>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="content-row distribution" id="block3">
                                <h2>Interactive Map</h2>
                                <p>Demand for both kosher and halal food was spread across all five boroughs, with the
                                    highest demand in Brooklyn, Queens, and the Bronx. The map below reflects data from
                                    June 2020, the month with the highest utilization of GetFoodNYC. All GetFoodNYC data
                                    was
                                    collected at the zip code level, but our map allows you to layer various
                                    administrative
                                    boundaries over the zip code level data to better understand how this program
                                    affected
                                    your district or neighborhood. </p>
                                <p><i>Click on the map or use the options below to start exploring.</i></p>
                                <ul class="tab-links">
                                    <li class="active"><a data-map="ZC" href="#">NYC Zip Codes</a></li>
                                    <li><a data-map="NTAs" href="#">NYC Neighborhoods</a></li>
                                    <li><a data-map="CC" href="#">NYC Council Districts</a></li>
                                    <li><a data-map="AD" href="#">NYS Assembly Districts</a></li>
                                    <li><a data-map="SD" href="#">NYS Senate Districts</a></li>
                                    <li><a data-map="Dashboard14" href="#">U.S Congressional Districts</a></li>
                                </ul>
                                <div class="map-block">
                                    <div id="vizContainer" style="width:100%; height:700px;"></div>

                                    <script type='text/javascript'>
                                        const tabClick = (el) => {
                                            el.preventDefault();
                                            document.querySelector('.tab-links li[class=active]').classList.remove('active');
                                            el.target.parentElement.classList.add('active');
                                            createViz(el.target.dataset.map);

                                            return false;
                                        };

                                        var viz;

                                        function createViz(code) {
                                            var vizDiv = document.getElementById("vizContainer"),
                                                options = {
                                                    hideTabs: true
                                                };

                                            if (viz) { // If a viz object exists, delete it.
                                                viz.dispose();
                                            }

                                            var vizURL = "https://public.tableau.com/views/GetFoodDashboardRevised/" + code + "?:toolbar=no&:showShareOptions=no&tabs=no";
                                            console.log(vizURL);
                                            viz = new tableau.Viz(vizDiv, vizURL, options);
                                        }

                                        const tabs = document.querySelectorAll('.tab-links li a');
                                        for (const tab of tabs) {
                                            tab.addEventListener('click', tabClick);
                                        }
                                        window.onload = (event) => {
                                            createViz('ZC');
                                        };
                                    </script>
                                </div>
                            </div>
                            <div class="content-row breakdown" id="block4">
                                <h2>Discussion</h2>
                                <div class="content-inner">
                                    <p style="font-size:24px; color:#33a995;">Aside from these general patterns, it is
                                        essential to understand the broad range
                                        of cultural differences and specific needs of neighborhoods across the City when
                                        providing emergency food to communities with specific dietary requirements such
                                        as kosher and halal. </p>
                                    <p>These numbers could underestimate the need for kosher and halal food, since some
                                        communities of kosher- and halal-observant New Yorkers could not participate in
                                        the program because they require elevated levels of certification that
                                        GetFoodNYC did not meet. Moreover, delivery of food on Saturdays (the Jewish
                                        Sabbath) or Jewish holidays caused some kosher-observant households to withdraw
                                        from the program and others not to enroll at all. For instance, the GetFoodNYC
                                        data
                                        shows lower than expected program uptake in Williamsburg even though there is a
                                        large population of low-income ultra-Orthodox households in this neighborhood.
                                    </p>
                                    <p>Nevertheless, the Cityâ€™s efforts to make sure no one went hungry likely enabled
                                        many kosher- and halal-observant individuals to receive emergency food for the
                                        first time. </p>
                                </div>
                            </div>
                            <div class="content-row" id="block5">
                                <h2>Our Recommendations</h2>
                                <div class="content-inner recommendation">
                                    <div class="content-col col-45">
                                        <div class="graph-card">
                                            <img src="dist/images/people.svg" alt="icon">
                                        </div>
                                    </div>
                                    <div class="content-col col-55">
                                        <p>Although <strong>one in five New Yorkers</strong> enrolled in the program
                                            requested
                                            kosher or halal food, the cityâ€™s emergency feeding system has a very limited
                                            number of
                                            providers with the expertise and experience to provide food that adheres to
                                            religious
                                            dietary requirements and is culturally appropriate. </p>
                                    </div>
                                </div>
                                <p>We must ensure that New Yorkâ€™s emergency feeding system recognizes and addresses the
                                    diverse dietary needs and requirements of all food insecure New Yorkers and is
                                    prepared
                                    for the next crisis. Based on our analysis of the data from GetFoodNYC and our
                                    experience as an emergency food provider, Met Council makes the following
                                    recommendations:</p>
                                <div class="text-box">
                                    <h5>Funding Solutions</h5>
                                    <ol>
                                        <li><strong><span>1.</span>Increase emergency food funding to reflect the
                                                widespread
                                                need for kosher and halal food.</strong>
                                            <ol class="lower">
                                                <li>Increase acquisition of kosher- and halal-certified food to at least
                                                    20%
                                                    of all City-funded emergency food.
                                                </li>
                                                <li>Increase funding for New York State programs Nourish New York,
                                                    Hunger
                                                    Prevention and Nutrition Assistance Program (HPNAP) and The
                                                    Emergency
                                                    Food and Shelter Program (EFSP).
                                                </li>
                                            </ol>
                                        </li>
                                        <li><strong><span>2.</span>Enable more flexibility with food funding so that
                                                food
                                                pantry operators can meet the specific dietary requirements of their
                                                communities.</strong>
                                            <ol class="lower">
                                                <li>Provide funding as lines of credit or cash-in-hand, and allow
                                                    funding to
                                                    be used for operating expenses, including rent and salaries.
                                                </li>
                                                <li>Streamline the Cityâ€™s Emergency Food Assistance Program (EFAP) by
                                                    removing its procurement process from the NYC Department of Citywide
                                                    Administrative Services (DCAS) to enable purchase of a wider array
                                                    of
                                                    culturally appropriate foods.
                                                </li>
                                            </ol>
                                        </li>
                                    </ol>
                                </div>
                                <div class="text-box">
                                    <h5>Policy Solutions</h5>
                                    <ol>
                                        <li><strong><span>3.</span>Ensure awareness and sensitivity to kosher and halal
                                                needs in policy-making bodies.</strong>
                                            <ol class="lower">
                                                <li>Create a division of kosher and halal food within the New York State
                                                    Office of General Services.
                                                </li>
                                                <li>Expand the Mayorâ€™s Office of Food Policyâ€™s Governance Initiatives to
                                                    include kosher and halal foods and appoint a Deputy Director to
                                                    oversee
                                                    the initiative.
                                                </li>
                                                <li>Expand the FeedNYC Policy Committee on New York Hunger Resources to
                                                    include providers with kosher and halal expertise.
                                                </li>
                                                <li>Bring in relevant community-based organizations (CBOs) to City
                                                    tables
                                                    during initial planning sessions of new programs, even during a
                                                    crisis.
                                                </li>
                                            </ol>
                                        </li>
                                        <li><strong><span>4.</span>Incorporate cultural competency into NYC and State
                                                Request for Proposals (RFP) requirements. </strong>
                                            <ol class="lower">
                                                <li>The long-awaited request for proposals for a new EFAP contract is an
                                                    opportunity to incorporate a requirement that programs offer
                                                    culturally
                                                    appropriate foods.
                                                </li>
                                            </ol>
                                        </li>
                                        <li><strong><span>5.</span>Increase and Improve Data Collection.</strong>
                                            <ol class="lower">
                                                <li>Have the New York State Office of General Services Division of Food
                                                    Distribution track and publish data on the distribution of kosher
                                                    and
                                                    halal food to food banks across the State.
                                                </li>
                                                <li>Continue New York Cityâ€™s collection and sharing of disaggregated
                                                    data on
                                                    emergency food program requests and program utilization and solicit
                                                    public input about data collection at a new programâ€™s inception.
                                                </li>
                                            </ol>
                                        </li>
                                        <li><strong><span>6.</span>Increase access to Supplemental Nutrition Assistance
                                                Program (SNAP) benefits.</strong>
                                            <ol class="lower">
                                                <li>Support changes to SNAP that broaden eligibility, reduce barriers to
                                                    enrollment (such as by extending the waiver that allows clients to
                                                    apply
                                                    by telephone and for complete applications to be considered without
                                                    an
                                                    interview), and increase SNAP benefit levels.
                                                </li>
                                            </ol>
                                        </li>
                                    </ol>
                                </div>
                                <div class="text-box">
                                    <h5>Legislative Solutions</h5>
                                    <ol>
                                        <li class="link-li"><strong><span>7.</span>Amend Local <a
                                                    href="https://www1.nyc.gov/assets/foodpolicy/downloads/pdf/LL-52-Legislation-Text.pdf">Law</a>
                                                52/2011 (which establishes reporting
                                                requirements for many food-related initiatives) to include data specific
                                                to
                                                kosher and halal food.</strong></li>
                                        <li class="link-li"><strong><span>8.</span>Amend Local <a
                                                    href="https://legistar.council.nyc.gov/View.ashx?M=F&ID=8247400&GUID=EBF584CF-D0DE-42B6-A40E-FBE0959E62D1">Law</a>
                                                41/2020 to expand the jurisdiction of the
                                                Mayorâ€™s Office of Food Policy to address food insecurity in the kosher-
                                                and
                                                halal-observant communities.</strong></li>
                                        <li><strong><span>9.</span>Enact a State law requiring the creation of an office
                                                of
                                                kosher and halal within the New York State Office of General Services
                                                Division
                                                of Food Distribution and require it to track and publish data on the
                                                distribution of emergency kosher and halal food to food banks across the
                                                State.</strong>
                                        </li>
                                    </ol>
                                </div>
                            </div>
                            <div class="content-row methodblk" id="block6">
                                <h2>Our Methodology</h2>
                                <p>For the purposes of this analysis, we looked at this data in several different ways.
                                    First, we segmented the data by month covering every month from March of 2020 to
                                    September of 2021, the latest full month of publicly available data at the time of
                                    our
                                    analysis. Once broken into individual months we separated out the total monthly
                                    requests
                                    for all meals, kosher meals, and halal meals by zip code. With these numbers in
                                    hand, we
                                    took a closer look at each month: </p>
                                <ul class="method-list">
                                    <li>
                                        <img src="dist/images/icon1.svg" alt="icon">
                                        <p>Raw numbers reported by the City of New York</p>
                                    </li>
                                    <li>
                                        <img src="dist/images/icon2.svg" alt="icon">
                                        <p>Percentages hand calculated on a monthly basis by dividing either kosher or
                                            halal
                                            meal distribution by the corresponding monthly total requests</p>
                                    </li>
                                    <li>
                                        <img src="dist/images/icon4.svg" alt="icon">
                                        <p>Once we had this information, we were able to develop a deeper understanding
                                            of
                                            where the likely kosher- and halal-observant populations are located within
                                            the
                                            City, particularly those facing food insecurity. </p>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        <!-- End content section -->

        <!--Begin Footer section-->
        <footer class="footer-container">
            <div class="footer-top">
                <div class="container">
                    <div class="row">
                        <div class="col-5">
                            <div class="report-block">
                                <img src="dist/images/bottom-logo.jpg" alt="">
                            </div>
                        </div>
                        <div class="col-7">
                            <div class="footer-content">
                                <h2>Have Questions? <span>Please Contact Us.</span></h2>
                                <a href="mailto:info@metcouncil.org" class="btn-default white">Contact Us</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="footer-bottom">
                <div class="container">
                    <div class="row">
                        <div class="col-12">
                            <p><img src="dist/images/image2.svg" alt=""> <strong>Getting Food to All Hungry New
                                    Yorkers:</strong>
                                An Analysis of Kosher and Halal Meals Distributed Through GetFoodNYC
                                \ 2021</p>
                        </div>
                    </div>
                </div>
            </div>

        </footer>
        <!--End Footer section-->
    </div>
    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="dist/js/vendor/jquery-3.5.0.min.js"></script>
    <script src="dist/js/vendor/jquery-migrate-3.0.1.min.js"></script>
    <script src="dist/js/vendor/chart.js"></script>
    <script
        src="https://cdnjs.cloudflare.com/ajax/libs/chartjs-plugin-datalabels/2.0.0-rc.1/chartjs-plugin-datalabels.js"></script>
    <script src="dist/js/vendor/jquery.nav.js"></script>
    <script src="dist/js/vendor/sticksy.min.js"></script>
    <script src="dist/js/main.js"></script>
    <script type="text/javascript">
        jQuery(document).ready(function () {
            $('#chartSwitch1').on("click", function (e) {
                e.preventDefault();
                $('#chart3-wrapper').show();
                $('#myNewChart').hide();
                $(this).removeClass('border');
                $('#chartSwitch2').addClass('border');
            });
            $('#chartSwitch2').on("click", function (e) {
                e.preventDefault();
                $('#chart3-wrapper').hide();
                $('#myNewChart').show();
                $(this).removeClass('border');
                $('#chartSwitch1').addClass('border');
            });
        });
        const ctx = document.getElementById('area-chart').getContext('2d');
        const areaChart = new Chart(ctx, {
            type: 'line',
            data: {
                labels: ['Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],
                datasets: [
                    {
                        label: 'Kosher Percent of Total',
                        data: [0, 4.2, 11.7, 13.6, 15.6, 16.9, 18.5, 16.6, 14.9, 13.5],
                        fill: true,
                        backgroundColor: 'rgba(173,43,8,1)',
                        hoverBackgroundColor: 'rgba(173,43,8,0.7)',
                        borderWidth: 0,
                        order: 1,
                        pointRadius: 1,
                    },
                    {
                        label: 'Halal Percent of Total',
                        data: [0, 1.8, 8.0, 9.3, 9.0, 7.0, 5.9, 5.5, 4.4, 5.7],
                        fill: true,
                        backgroundColor: 'rgba(212,146,26,1)',
                        hoverBackgroundColor: 'rgba(212,146,26,0.7)',
                        borderWidth: 0,
                        order: 2,
                        pointRadius: 1,
                    },
                    {
                        label: 'K & H Combined Percent of Total',
                        data: [0, 6, 19.7, 22.9, 24.6, 24.0, 24.4, 22.1, 19.3, 19.1],
                        type: 'line',
                        fill: false,
                        backgroundColor: 'rgba(213,99,22,1)',
                        hoverBackgroundColor: 'rgba(213,99,22,0.7)',
                        borderColor: 'rgb(213,99,22)',
                        borderWidth: 2,
                        order: 0,
                        yAxisID: 'y1',
                        pointRadius: 1,
                        stack: false,
                    },
                ]
            },
            options: {
                responsive: true,
                interaction: {
                    mode: 'nearest',
                    axis: 'x',
                    intersect: false
                },
                plugins: {
                    title: {
                        display: false,
                        text: 'Kosher and Halal Percent of Total GetFood NYC Meals',
                        font: {
                            size: 12,
                        },
                    },
                    tooltip: {
                        enabled: true,
                        callbacks: {
                            title: (ttItem) => {
                                let shortlabels = ['Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];
                                let labels = ['March', 'April', 'May', 'June', 'July', 'August.', 'September', 'October.', 'November', 'December'];
                                return labels[shortlabels.indexOf(ttItem[0].label)];
                            },
                            label: function (tooltipItem) {
                                let returnStr = tooltipItem.dataset.label + ': ' + (parseFloat(tooltipItem.formattedValue)).toFixed(0);
                                return returnStr + '%';
                            }
                        }
                    },
                    legend: {
                        title: {
                            display: false,
                            text: 'Legend',
                        },
                        position: 'top',
                    },
                    datalabels: {
                        formatter: (value, dnct1) => {
                            let sum = 0;
                            let dataArr = dnct1.chart.data.datasets[0].data;
                            let percentage = (value).toFixed(0) + '%';
                            if (dnct1.datasetIndex !== 2) percentage = '';
                            if (dnct1.dataIndex === 0) percentage = '';
                            return percentage;
                        },
                        align: -90,
                        offset: 10,
                        color: '#000'
                    },
                },
                scales: {
                    x: {
                        display: true,
                        title: {
                            display: false,
                            text: '2020'
                        },
                        grid: {
                            drawTicks: false,
                            drawOnChartArea: true,
                        },
                        ticks: {
                            font: {
                                size: 12,
                            },
                            autoSkip: false,
                            maxRotation: 0,
                            minRotation: 0,
                        },
                    },
                    y: {
                        beginAtZero: true,
                        stacked: true,
                        suggestedMin: 0,
                        suggestedMax: 30,
                        min: 0,
                        max: 30,
                        scaleLabel: {
                            show: true
                        },
                        grid: {
                            tickWidth: 10,
                            drawTicks: false,
                            drawOnChartArea: true, // only want the grid lines for one axis to show up
                        },
                        ticks: {
                            font: {
                                size: 11,
                            },
                            callback: function (value, index, values) {
                                return value + '%';
                            }
                        }
                    },
                    y1: {
                        display: false,
                        suggestedMin: 0,
                        suggestedMax: 30,
                        min: 0,
                        max: 30,
                    }
                },
            },
            plugins: [ChartDataLabels]
        });

        /*const ctx2 = document.getElementById('myChart2').getContext('2d');
        const myChart2 = new Chart(ctx2, {
            type: 'line',
            data: {
                labels: ['', 'May 2020', 'July 2020', 'Sep. 2020', 'Nov. 2020', 'Jan. 2021', 'March 2021', 'May 2021', 'July 2021', 'Sept. 2021'],
                datasets: [
                    {
                        label: 'Growth Rate: Kosher Meals',
                        data: [, 250, 50, -20, -50, -40, -30, -35, 15, -10, -25, 30, -5],
                        fill: false,
                        backgroundColor: 'rgb(132,229,162)',
                        borderColor: 'rgb(132,229,162)',
                        borderWidth: 3,
                    },
                    {
                        label: 'Growth Rate: Halal Meals',
                        data: [, 255, 48, -5, -30, -40, -46, -35, 5, -15, -5, 0, -25],
                        fill: false,
                        backgroundColor: 'rgb(255,219,121)',
                        borderColor: 'rgb(255,219,121)',
                        borderWidth: 3,
                    },
                ]
            },
            options: {
                responsive: true,
                elements: {
                    point: {
                        radius: 0
                    }
                },
                plugins: {
                    title: {
                        display: true,
                        text: 'GetFood NYC Monthly Growth Rate'
                    },
                    legend: {
                        title: {
                            display: true,
                            text: 'Legend',
                        },
                        position: 'bottom',
                    }
                },
                scales: {
                    x: {
                        display: true,
                        title: {
                            display: true,
                            text: '2020'
                        },
                        grid: {
                            drawTicks: false
                        },
                        ticks: {
                            font: {
                                size: 7,
                            },
                            autoSkip: false,
                            maxRotation: 0,
                            minRotation: 0,
                        },
                    },
                    y: {
                        beginAtZero: true,
                        scaleLabel: {
                            show: true
                        },
                        grid: {
                            drawTicks: false
                        },
                        ticks: {
                            font: {
                                size: 7,
                            },
                            callback: function (value, index, values) {
                                return value + '%';
                            }
                        }
                    }
                },
            }
        });*/

        const ctx3 = document.getElementById('bar-line').getContext('2d');
        const barLine = new Chart(ctx3, {
            type: 'bar',
            data: {
                labels: ['Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],
                datasets: [
                    {
                        label: 'Total Meals',
                        data: [172287, 6696225, 22659975, 26914095, 21967611, 12526794, 8231702, 5125707, 3668352, 2996163],
                        backgroundColor: 'rgb(55,171,152)',
                        hoverBackgroundColor: 'rgba(55,171,152,0.7)',
                        borderWidth: 0,
                        order: 2,
                        barThickness: 15,
                        yAxisID: 'y1',
                    },
                    {
                        label: 'K & H Combined Percent of Total',
                        data: [0, 6, 20, 23, 25, 24, 24, 22, 19, 19],
                        type: 'line',
                        fill: false,
                        backgroundColor: 'rgb(213,99,24)',
                        hoverBackgroundColor: 'rgba(213,99,24,0.7)',
                        borderColor: 'rgb(213,99,24)',
                        borderWidth: 3,
                        order: 1,
                        yAxisID: 'y',
                        pointRadius: 1,
                    }
                ],
            },
            options: {
                responsive: true,
                interaction: {
                    mode: 'index',
                    intersect: false,
                },
                stacked: false,
                plugins: {
                    title: {
                        display: false,
                        text: 'GetFoodNYC 2020 Meals by Month',
                        font: {
                            size: 14,
                        },
                    },
                    tooltip: {
                        enabled: true,
                        callbacks: {
                            title: (ttItem) => {
                                let shortlabels = ['Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];
                                let labels = ['March', 'April', 'May', 'June', 'July', 'August.', 'September', 'October.', 'November', 'December'];
                                return labels[shortlabels.indexOf(ttItem[0].label)];
                            },
                            label: function (tooltipItem) {
                                let returnStr = tooltipItem.dataset.label + ': ' + tooltipItem.formattedValue;
                                if (tooltipItem.datasetIndex === 1) returnStr += '%';
                                return returnStr;
                            }
                        }
                    },
                    legend: {
                        title: {
                            display: false,
                            text: 'Legend',
                        },
                        position: 'bottom',
                    },
                    datalabels: {
                        formatter: (value, dnct1) => {
                            let sum = 0;
                            let dataArr = dnct1.chart.data.datasets[0].data;
                            let percentage = (value).toFixed(0) + '%';
                            if (dnct1.datasetIndex !== 1) percentage = '';
                            if (dnct1.dataIndex === 0) percentage = '';
                            return percentage;
                        },
                        align: 90,
                        offset: 5,
                        color: 'rgb(213,99,24)'
                    },
                },
                scales: {
                    x: {
                        display: true,
                        title: {
                            display: false,
                            text: '2020'
                        },
                        grid: {
                            drawTicks: true,
                            drawOnChartArea: true
                        },
                        ticks: {
                            font: {
                                size: 11,
                            },
                            autoSkip: false,
                            maxRotation: 0,
                            minRotation: 0,
                        },
                    },
                    y: {
                        beginAtZero: true,
                        position: 'right',
                        scaleLabel: {
                            show: true
                        },
                        grid: {
                            drawTicks: false,
                        },
                        title: {
                            display: true,
                            text: 'Percent of Meals, Kosher & Halal',
                            font: {
                                weight: 600,
                            },
                        },
                        suggestedMin: 0,
                        suggestedMax: 100,
                        ticks: {
                            font: {
                                size: 11,
                            },
                            color: 'rgb(213,99,24)',
                            callback: function (value, index, values) {
                                return value + '%';
                            },
                        }
                    },
                    y1: {
                        stacked: false,
                        display: true,
                        position: 'left',
                        grid: {
                            drawTicks: false,
                            drawOnChartArea: false, // only want the grid lines for one axis to show up
                        },
                        title: {
                            display: true,
                            text: 'Total GetFoodNYC Meals',
                            font: {
                                weight: 600,
                            },
                        },
                        ticks: {
                            font: {
                                size: 11,
                            },
                            callback: function (value, index, values) {
                                return value / 1000000 + 'M';
                            }
                        }
                    },
                },
            },
            plugins: [ChartDataLabels]
        });


        const ctx4 = document.getElementById('pieChart1').getContext('2d');
        const pieChart1 = new Chart(ctx4, {
            type: 'pie',
            data: {
                labels: ['Kosher & Halal', 'Other Meals'],
                datasets: [
                    {
                        label: ['Combined Kosher and Halal', 'Other Meals'],
                        //data: [21, 79],
                        data: [26870190, 101810363],
                        fill: true,
                        backgroundColor: ['rgb(187,85,17)', 'rgb(44,136,110)'],
                        hoverBackgroundColor: ['rgba(187,85,17,0.7)', 'rgba(44,136,110,0.7)'],
                        hoverOffset: 24,
                        offset: 20,
                        borderWidth: 0,
                    },
                ],
            },
            options: {
                responsive: true,
                rotation: 50,
                radius: "95%",
                plugins: {
                    title: {
                        display: false,
                    },
                    tooltip: {
                        enabled: true,
                        callbacks: {
                            label: function (context) {
                                let label = context.label || '';
                                return label;
                            },
                            footer: (ttItem) => {
                                let sum = 0;
                                let label = ttItem[0].dataset.label || '';
                                let dataArr = ttItem[0].dataset.data;
                                dataArr.map(data => {
                                    sum += Number(data);
                                });

                                let percentage = (ttItem[0].parsed * 100 / sum).toFixed(2) + '%';
                                let number = ttItem[0].parsed.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",")
                                let footerStr = `% of Total Meals: ${percentage} \n`;
                                footerStr += `Number of Meals: ${number}`;
                                return footerStr;
                            }
                        }
                    },
                    datalabels: {
                        formatter: (value, dnct1) => {
                            let sum = 0;
                            let label = dnct1.chart.data.labels[dnct1.dataIndex] + '\n' || '';
                            let dataArr = dnct1.chart.data.datasets[0].data;
                            dataArr.map(data => {
                                sum += data;
                            });
                            let percentage = (value * 100 / sum).toFixed(0) + '%';
                            if(window.innerWidth< 600){
                                offset = ['     Kosher &\n    Halal Meals\n           ', 'Other Meals\n       '];
                            }
                            return offset[dnct1.dataIndex] + percentage;
                        },
                        align: (ctx) => {
                            const positions = [-45, 0];
                            return positions[ctx.dataIndex];
                        },
                        offset: (ctx) => {
                            const positions = [-35, -32];
                            return positions[ctx.dataIndex];
                        },
                        font: {
                            size: 11.5,
                        },
                        color: '#fff'
                    },
                    legend: {
                        display: false,
                    },
                },
            },
            plugins: [ChartDataLabels]
        });

        const ctx5 = document.getElementById('pieChart2').getContext('2d');
        const pieChart2 = new Chart(ctx5, {
            type: 'pie',
            data: {
                labels: ['Halal', 'Kosher'],
                datasets: [
                    {
                        label: ['Halal', 'Kosher'],
                        data: [9226680, 17643510],
                        fill: true,
                        backgroundColor: ['rgb(183,125,20)', 'rgb(150,37,8)'],
                        hoverBackgroundColor: ['rgba(183,125,20,0.7)', 'rgba(150,37,8,0.7)'],
                        borderWidth: 0,
                    },
                ],
            },
            options: {
                responsive: true,
                radius: "70%",
                plugins: {
                    title: {
                        display: false,
                    },
                    tooltip: {
                        enabled: true,
                        callbacks: {
                            label: function (context) {
                                let label = context.label || '';
                                return label;
                            },
                            footer: (ttItem) => {
                                let sum = 0;
                                let label = ttItem[0].dataset.label || '';
                                let dataArr = ttItem[0].dataset.data;
                                dataArr.map(data => {
                                    sum += Number(data);
                                });

                                let number = ttItem[0].parsed.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",")
                                let footerStr = `Meals: ${number}`;
                                return footerStr;
                            }
                        }
                    },
                    datalabels: {
                        formatter: (value, dnct1) => {
                            let sum = 0;
                            let label = dnct1.chart.data.labels[dnct1.dataIndex] + '\n' || '';
                            let dataArr = dnct1.chart.data.datasets[0].data;
                            dataArr.map(data => {
                                sum += data;
                            });
                            let percentage = (value / 1000000).toFixed(1) + 'm';
                            return label + percentage;
                        },
                        color: '#fff'
                    },
                    legend: {
                        display: false,
                    },
                },
            },
            plugins: [ChartDataLabels]
        });
    </script>
</body>

</html>